@model IEnumerable<ProjectManagementSystem.Models.ProjectMember>

@{
    ViewData["Title"] = "Project Members";
}
<div>
    <partial name="_ProgressBarPartial" />
</div>
<div class="container my-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="fw-bold text-dark mb-1">🌸 Project Members</h2>
            <p class="text-muted mb-0">Manage all project team members and their roles</p>
        </div>
        
        <a class="btn shadow-sm px-4 py-2 fw-semibold text-white"
           style="background-color: #8c5dd1; border-radius: 12px;" asp-action="Create">
            <i class="bi bi-person-plus-fill me-1"></i> Add Member
        </a>
    </div>

    <div class="table-responsive shadow rounded-4" style="overflow: hidden;">
        <table class="table table-hover align-middle mb-0" style="background-color: #e4eefd; border-radius: 12px;">
            <thead style="background-color: #8c5dd1; color: white;">
                <tr>
                    <th scope="col" class="ps-4">#</th>
                    <th scope="col" class="ps-4">Role</th>
                    <th scope="col">Student</th>
                    <th scope="col">Project</th>
                    <th scope="col" class="text-center" style="width: 130px;">Actions</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.Any())
                {
                    int count = 1;
                    foreach (var item in Model)
                    {
                        <tr class="align-middle">
                            <td class="fw-semibold text-dark ps-4">@count</td>
                            <td class="fw-semibold text-dark ps-4">@item.Role</td>
                            <td class="text-dark">@item.Student?.StudentName</td>
                            <td class="text-dark">@item.Project?.ProjectName</td>
                            <td class="text-center">
                                <a asp-action="Edit" asp-route-id="@item.ProjectMember_pkId"
                                   class="btn btn-sm rounded-pill me-1"
                                   style="color: #8c5dd1; border: 1px solid #8c5dd1; background-color: white;" title="Edit">
                                    <i class="bi bi-pencil-fill"></i>
                                </a>
                                <a asp-action="Remove" asp-route-id="@item.ProjectMember_pkId" class="btn btn-sm rounded-pill text-danger border border-danger"
                                   style="background-color: white;" onclick="return confirm('Are you sure you want to remove this member?');">
                                    <i class="bi bi-trash-fill"></i>
                                </a>

                          
                            </td>
                        </tr>
                        count++;
                    }
                }
                else
                {
                    <tr>
                        <td colspan="4" class="text-center text-muted py-5">
                            <i class="bi bi-emoji-frown fs-4 d-block mb-2"></i>
                            No project members found.
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<!-- Bootstrap Icons CDN -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
