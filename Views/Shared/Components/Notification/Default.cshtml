@model IEnumerable<ProjectManagementSystem.DBModels.NotificationViewModel>

<div class="notification-wrapper">

    @if (Model != null && Model.Any())
    {
        foreach (var notification in Model)
        {
            <a class="notification-item d-flex align-items-start gap-3 p-3 mb-2 rounded shadow-sm
                      @(notification.IsRead == false ? "unread" : "")"
               asp-controller="ProjectApproval"
               asp-action="Details"
               asp-route-id="@notification.ProjectId">

                <div class="icon-area">
                    <i class="fas fa-bell text-purple fs-5"></i>
                </div>

                <div class="flex-grow-1">
                    <div class="notification-content fw-semibold">
                        @Html.Raw(notification.Message) <br />

                        <div class="small text-muted">
                            <i class="far fa-clock me-1"></i>
                        @notification.CreatedAt.ToString("MMM dd, yyyy • hh:mm tt")
                        </div>
                    </div>

                  @*   <div class="notification-time small text-muted">
                        <i class="far fa-clock me-1"></i>
                        @notification.CreatedAt.ToString("MMM dd, yyyy • hh:mm tt")
                    </div> *@
                </div>
            </a>
        }
    }
    else
    {
        <div class="empty-notifications text-center py-4">
            <i class="far fa-bell-slash fs-1 text-muted"></i>
            <p class="text-muted mt-2 mb-0">No new notifications</p>
        </div>
    }

</div>

<style>
    .notification-wrapper {
        width: 380px; 
        max-height: 500px; 
        overflow-y: auto; 
        padding: 10px;
    }

    .notification-item {
        background: #ffffff;
        border: 1px solid #f1f1f1;
        transition: 0.2s;
        text-decoration: none;
        color: #4b4b4b;
        display: block;
    }

        .notification-item:hover {
            background: #faf8ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .notification-item.unread {
            background: #f7f2ff;
            border-left: 6px solid #8C5DD1;
        }

    .icon-area {
        width: 34px;
        height: 34px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f3eaff;
        color: #8C5DD1;
        border-radius: 8px;
        flex-shrink: 0;
    }

    .text-purple {
        color: #8C5DD1;
    }

    .notification-content {
        font-size: 0.92rem;
        line-height: 1.3rem;
    }

    .notification-time {
        font-size: 0.75rem;
    }

    .empty-notifications i {
        color: #b5b5b5;
    }
</style>
